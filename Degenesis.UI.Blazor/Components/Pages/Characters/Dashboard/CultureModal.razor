<MudDialog>
    <DialogContent>
        <MudTextField Label="Name" @bind-Value="Culture.Name" Required="true" />
        <MudTextField Label="Description" @bind-Value="Culture.Description"/>

        <MudSelect T="Guid" MultiSelection="true" Label="Available Cults" SelectedValues="SelectedCultIds" SelectedValuesChanged="OnCultsChanged"
                   ToStringFunc="@(id => Cults.FirstOrDefault(s => s.Id == id)?.Name ?? "Unknown")">
            @foreach (var cult in Cults)
            {
                <MudSelectItem T="Guid" Value="@cult.Id">@cult.Name</MudSelectItem>
            }
        </MudSelect>

        <MudSelect T="Guid" MultiSelection="true" Label="Bonus Attributes" SelectedValues="SelectedAttributeIds"  SelectedValuesChanged="OnAttributesChanged"
                   ToStringFunc="@(id => Attributes.FirstOrDefault(s => s.Id == id)?.Name ?? "Unknown")">
            @foreach (var attr in Attributes)
            {
                <MudSelectItem T="Guid" Value="@attr.Id">@attr.Name</MudSelectItem>
            }
        </MudSelect>
        <MudSelect T="Guid" Label="Bonus Skills" MultiSelection="true" SelectedValues="SelectedSkillIds" SelectedValuesChanged="OnSkillsChanged"
                   ToStringFunc="@(id => Skills.FirstOrDefault(s => s.Id == id)?.Name ?? "Unknown")">
            @foreach (var skill in Skills)
            {
                <MudSelectItem T="Guid" Value="@skill.Id">@skill.Name</MudSelectItem>
            }
        </MudSelect>
    </DialogContent>

    <DialogActions>
        <MudButton OnClick="SaveCulture" Color="Color.Primary">Save</MudButton>
        <MudButton OnClick="Cancel" Color="Color.Secondary">Cancel</MudButton>
    </DialogActions>
</MudDialog>
