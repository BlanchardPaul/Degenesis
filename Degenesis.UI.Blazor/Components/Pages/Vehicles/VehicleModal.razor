<MudDialog>
    <DialogContent>
        <MudTextField Label="Name" @bind-Value="Vehicle.Name" Required="true" />
        <MudTextField Label="Description" @bind-Value="Vehicle.Description" Required="true" />
        <MudNumericField Label="Max Speed" @bind-Value="Vehicle.MaxSpeed" />
        <MudNumericField Label="Acceleration" @bind-Value="Vehicle.Acceleration" />
        <MudNumericField Label="Brake" @bind-Value="Vehicle.Brake" />
        <MudNumericField Label="Armor" @bind-Value="Vehicle.Armor" />
        <MudNumericField Label="BodyFlesh" @bind-Value="Vehicle.BodyFlesh" />
        <MudNumericField Label="StructureTrauma" @bind-Value="Vehicle.StructureTrauma" />
        <MudNumericField Label="TechLevel" @bind-Value="Vehicle.TechLevel" />
        <MudNumericField Label="Slots" @bind-Value="Vehicle.Slots" />
        <MudNumericField Label="Value" @bind-Value="Vehicle.Value" />
        <MudTextField Label="Resources" @bind-Value="Vehicle.Resources" />
        <MudSelect T="Guid" Label="Vehicle Type" @bind-Value="Vehicle.VehicleTypeId">
            @foreach (var type in VehicleTypes)
            {
                <MudSelectItem T="Guid" Value="@type.Id">@type.Name</MudSelectItem>
            }
        </MudSelect>
        <MudSelect T="Guid" Label="Qualities" MultiSelection="true"
                   SelectedValues="SelectedQualityIds" SelectedValuesChanged="OnQualitiesChanged"
                   ToStringFunc="@(id => VehicleQualities.FirstOrDefault(q => q.Id == id)?.Name ?? "Unknown")">
            @foreach (var quality in VehicleQualities)
            {
                <MudSelectItem T="Guid" Value="@quality.Id">@quality.Name</MudSelectItem>
            }
        </MudSelect>
        <MudSelect T="Guid?" Label="Cult (Optional)" @bind-Value="Vehicle.CultId">
            <MudSelectItem T="Guid?" Value="null">- None -</MudSelectItem>
            @foreach (var cult in Cults)
            {
                <MudSelectItem T="Guid?" Value="@cult.Id">@cult.Name</MudSelectItem>
            }
        </MudSelect>
    </DialogContent>

    <DialogActions>
        <MudButton OnClick="SaveVehicle" Color="Color.Primary">Save</MudButton>
        <MudButton OnClick="Cancel" Color="Color.Secondary">Cancel</MudButton>
    </DialogActions>
</MudDialog>